<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Block SuperCollider</title>
    <link rel="stylesheet" type="text/css" media="all" href="sw/blksc3/css/blksc3.css" />
    <link rel="icon" type="image/png" href="https://rohandrape.net/data/png/rd.512.png" />
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="sw/blksc3/js/blksc3-gen.js"></script>
    <script src="sw/blksc3/js/blksc3-gen-ugen.js"></script>
    <script src="sw/blksc3/js/blksc3.js"></script>
    <script>
      Blockly.HSV_SATURATION = 0.20;
      Blockly.HSV_VALUE = 0.95;
      blk_load_and_process_json('sw/blksc3/json/blksc3.json', blk_json_init);
      blk_load_and_process_json('sw/blksc3/json/blksc3-ugen.json', blk_json_init);
      fetch('sw/blksc3/xml/blksc3.xml')
        .then(response => response.text())
        .then(data => blk_xml_init(data));
      window.onload = blk_init;
    </script>
  </head>
  <body>
    <p>Block SuperCollider</p>
    <div id="blocklyDiv" style="height: 900px; width: 1500px;"></div> <!-- 720 900 ; 900 1350 -->
    <div id="controlDiv">
      <input type="file" id="xmlInputFile" accept=".xml" onchange="blk_read_input_xml()" style="display:none">
      <button id="xmlInputFileSelect" title="Select local .xml file and load into workspace">Load Xml</button>
      <button title="Copy current workspace Xml to clipboard" onclick="navigator.clipboard.writeText(blk_get_xml())">Copy Xml</button>
      <button title="Send current workspace Stc to Websocket" onclick="blk_send_stc('play')">Send Stc</button>
      <button title="Send reset command to Websocket" onclick="blk_sc3_reset()">Send Reset</button>
      <button title="Draw current workspace as UGen graph" onclick="blk_send_stc('draw')">Draw Stc</button>
      <button title="Center workspace" onclick="blk_workspace.scrollCenter()">Center</button>
      <button title="Fit to workspace" onclick="blk_workspace.zoomToFit()">Fit</button>
      <select title="Example programs" id="blkGraphMenu">
        <option value="">--Graph Blocks--</option>

<!-- AUTOGEN -->
<option value='f0-tw-0030'>F0 - Tw 0030</option>
<option value='f0-tw-0033'>F0 - Tw 0033</option>
<option value='f0-tw-0041'>F0 - Tw 0041</option>
<option value='f0-tw-0045'>F0 - Tw 0045</option>
<option value='f0-tw-0051'>F0 - Tw 0051</option>
<option value='f0-tw-0059'>F0 - Tw 0059</option>
<option value='f0-tw-0084'>F0 - Tw 0084</option>
<option value='f0-tw-0134'>F0 - Tw 0134</option>
<option value='f0-tw-0220'>F0 - Tw 0220</option>
<option value='f0-tw-0225'>F0 - Tw 0225</option>
<option value='f0-tw-0456384156159574016'>F0 - Tw 0456384156159574016</option>
<option value='f0-tw-1084601286488674304'>F0 - Tw 1084601286488674304</option>
<option value='f0-tw-1125557217086857216'>F0 - Tw 1125557217086857216</option>
<option value='f0-tw-1138498427241861122'>F0 - Tw 1138498427241861122</option>
<option value='f0-tw-1343283697840226307'>F0 - Tw 1343283697840226307</option>
<option value='f0-tw-1452318302768963589'>F0 - Tw 1452318302768963589</option>
<option value='f0-tw-1453520892374441986'>F0 - Tw 1453520892374441986</option>
<option value='f0-tw-1464534258173849611'>F0 - Tw 1464534258173849611</option>
<option value='jar-1-4qx'>JAR - 1-4Qx</option>
<option value='jar-rk_20120422'>JAR - rk_20120422</option>
<option value='jmcc-analog-bubbles'>JMcC - Analog Bubbles</option>
<option value='jmcc-analog-bubbles-mouse'>JMcC - Analog Bubbles (Mouse)</option>
<option value='jmcc-analog-bubbles-var'>JMcC - Analog Bubbles (Var)</option>
<option value='jmcc-babbling-brook'>JMcC - Babbling Brook</option>
<option value='jmcc-birdies'>JMcC - Birdies</option>
<option value='jmcc-coolant'>JMcC - Coolant</option>
<option value='jmcc-coolant-texture'>JMcC - Coolant (Texture)</option>
<option value='jmcc-deep-trip'>JMcC - Deep Trip</option>
<option value='jmcc-demanding-studies'>JMcC - Demanding Studies</option>
<option value='jmcc-harmonic-zither'>JMcC - Harmonic Zither</option>
<option value='jmcc-lfo-modulation'>JMcC - Lfo Modulation</option>
<option value='jmcc-modal-space'>JMcC - Modal Space</option>
<option value='jmcc-modal-space-collect'>JMcC - Modal Space (Collect)</option>
<option value='jmcc-moto-rev'>JMcC - Moto Rev</option>
<option value='jmcc-narrow-band-filtered-crackle-noise'>JMcC - Narrow Band Filtered Crackle Noise</option>
<option value='jmcc-pond-life'>JMcC - Pond Life</option>
<option value='jmcc-pond-life-texture'>JMcC - Pond Life (Texture)</option>
<option value='jmcc-pentatonic-pipes'>JMcC - Pentatonic Pipes</option>
<option value='jmcc-plucked-strings'>JMcC - Plucked Strings</option>
<option value='jmcc-random-panning-sines'>JMcC - Random Panning Sines</option>
<option value='jmcc-random-pulsations'>JMcC - Random Pulsations</option>
<option value='jmcc-random-sine-waves'>JMcC - Random Sine Waves</option>
<option value='jmcc-repeating-harmonic-klank'>JMcC - Repeating Harmonic Klank</option>
<option value='jmcc-reverberated-sine-percussion'>JMcC - Reverberated Sine Percussion</option>
<option value='jmcc-sample-and-hold-liquidities'>JMcC - Sample and Hold Liquidities</option>
<option value='jmcc-scratchy'>JMcC - Scratchy</option>
<option value='jmcc-sprinkler'>JMcC - Sprinkler</option>
<option value='jmcc-sprinkler-mouse'>JMcC - Sprinkler (Mouse)</option>
<option value='jmcc-tank'>JMcC - Tank</option>
<option value='jmcc-theremin'>JMcC - Theremin</option>
<option value='jmcc-tremulate'>JMcC - Tremulate</option>
<option value='jmcc-tremulate-event'>JMcC - Tremulate (Event)</option>
<option value='jmcc-uplink'>JMcC - Uplink</option>
<option value='jmcc-why-supercollider'>JMcC - Why SuperCollider?</option>
<option value='jmcc-wind-metals'>JMcC - Wind Metals</option>
<option value='nv-tw-2013-12-04'>NV - Tw 2013-12-04</option>
<option value='nv-tw-04'>NV - Tw 04</option>
<option value='nv-tw-40'>NV - Tw 40</option>
<option value='nv-tw-41'>NV - Tw 41</option>
<option value='pj-forest-sounds'>PJ - Forest Sounds</option>
<option value='tw-tw-01'>TW - Tw 01</option>
<!-- END AUTOGEN -->

      </select>
      <select title="Help programs" id="blkHelpMenu">
        <option value="">--Help Blocks--</option>

<!-- AUTOGEN -->
<option value='ADSR.1'>ADSR.1</option>
<option value='ArrayFill.1'>ArrayFill.1</option>
<option value='Blip.1'>Blip.1</option>
<option value='Blip.2'>Blip.2</option>
<option value='CombC.1'>CombC.1</option>
<option value='Decay2.1'>Decay2.1</option>
<option value='FBSineC.1'>FBSineC.1</option>
<option value='Formant.1'>Formant.1</option>
<option value='FreqShift.1'>FreqShift.1</option>
<option value='Gendy1.1'>Gendy1.1</option>
<option value='Impulse.1'>Impulse.1</option>
<option value='Lag.1'>Lag.1</option>
<option value='Latch.1'>Latch.1</option>
<option value='LFNoise0.1'>LFNoise0.1</option>
<option value='LFNoise1.1'>LFNoise1.1</option>
<option value='LFNoise1.2'>LFNoise1.2</option>
<option value='LFSaw.1'>LFSaw.1</option>
<option value='Line.1'>Line.1</option>
<option value='LocalOut.1'>LocalOut.1</option>
<option value='Pan2.1'>Pan2.1</option>
<option value='PMOsc.1'>PMOsc.1</option>
<option value='RingzBank.1'>RingzBank.1</option>
<option value='SinOsc.1'>SinOsc.1</option>
<option value='SinOsc.2'>SinOsc.2</option>
<option value='Stepper.1'>Stepper.1</option>
<option value='Stepper.2'>Stepper.2</option>
<option value='XLine.1'>XLine.1</option>
<!-- END AUTOGEN -->

      </select>

      <button title="Cleanup workspace" onclick="blk_workspace.cleanUp()">Cleanup</button>
      <button title="Delete all blocks and comments from Workspace" onclick="blk_workspace.clear()">Clear Workspace</button>
    </div>
  </body>
</html>

<!--
<button title="Copy current workspace Svg to clipboard" onclick="navigator.clipboard.writeText(blk_get_svg())">Copy Svg</button>
-->
