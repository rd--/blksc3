<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Block SuperCollider</title>
    <link rel="icon" type="image/png" href="lib/jssc3/png/os.512.png" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css" />
    <link rel="stylesheet" type="text/css" media="all" href="css/blksc3.css" />
    <script src="lib/blockly/blockly_compressed.js"></script>
    <script src="lib/blockly/javascript_compressed.js"></script>
    <script src="lib/blockly/msg/js/en.js"></script>
    <script src="lib/blockly/blocks_compressed.js"></script>
    <script src="lib/commonmark.js/dist/commonmark.js"></script>
    <script src="lib/jssc3/lib/osc.js/dist/osc-browser.js"></script>
    <script src="lib/jssc3/js/sc3-array.js"></script>
    <script src="lib/jssc3/js/sc3-dom.js"></script>
    <script src="lib/jssc3/js/sc3-encode.js"></script>
    <script src="lib/jssc3/js/sc3-error.js"></script>
    <script src="lib/jssc3/js/sc3-io.js"></script>
    <script src="lib/jssc3/js/sc3-localstorage.js"></script>
    <script src="lib/jssc3/js/sc3-number.js"></script>
    <script src="lib/jssc3/js/sc3-null.js"></script>
    <script src="lib/jssc3/js/sc3-object.js"></script>
    <script src="lib/jssc3/js/sc3-opensoundcontrol.js"></script>
    <script src="lib/jssc3/js/sc3-operators.js"></script>
    <script src="lib/jssc3/js/sc3-rate.js"></script>
    <script src="lib/jssc3/js/sc3-soundfile.js"></script>
    <script src="lib/jssc3/js/sc3-stc.js"></script>
    <script src="lib/jssc3/js/sc3-string.js"></script>
    <script src="lib/jssc3/js/sc3-u8.js"></script>
    <script src="lib/jssc3/js/sc3-ui.js"></script>
    <script src="lib/jssc3/js/sc3-ui-mouse.js"></script>
    <script src="lib/jssc3/js/sc3.js"></script>
    <script src="lib/jssc3/js/sc3-alias.js"></script>
    <script src="lib/jssc3/js/sc3-bindings.js"></script>
    <script src="lib/jssc3/js/sc3-buffer.js"></script>
    <script src="lib/jssc3/js/sc3-buffer-cache.js"></script>
    <script src="lib/jssc3/js/sc3-envelope.js"></script>
    <script src="lib/jssc3/js/sc3-event.js"></script>
    <script src="lib/jssc3/js/sc3-graph.js"></script>
    <script src="lib/jssc3/js/sc3-pseudo.js"></script>
    <script src="lib/jssc3/js/sc3-pointer.js"></script>
    <script src="lib/jssc3/js/sc3-servercommand.js"></script>
    <script src="lib/jssc3/js/sc3-smalltalk.js"></script>
    <script src="lib/jssc3/js/sc3-texture.js"></script>
    <script src="lib/jssc3/js/sc3-wasm.js"></script>
    <script src="lib/jssc3/js/sc3-wasm-module.js"></script>
    <script src="js/blksc3-gen.js"></script>
    <script src="js/blksc3-gen-ugen.js"></script>
    <script src="js/blksc3-controllers.js"></script>
    <script src="js/blksc3-layout.js"></script>
    <script src="js/blksc3-wasm.js"></script>
    <script src="js/blksc3.js"></script>
    <script>
window.onload = function() {
    blk_init('.js', true, 4096, false, 'e', null, false);
    sc3_wasm_init();
};
    </script>
  </head>
  <body>
    <div id="blocklyContainer"></div>
    <div id="blkEdit">
      <div id="blkMenu">
        <select id="programMenu" title="Program (p)" accesskey="p"></select>
        <select id="helpMenu" title="Help (h)" accesskey="h"></select>
        <select id="guideMenu" title="Guide (g)" accesskey="g"></select>
        <select id="userMenu" title="User (u)" accesskey="u"><option value=''>--User--</option></select>
      </div>
      <div id="blkCmd">
        <input type="file" id="xmlInputFile" accept=".xml" onchange="blk_read_input_xml()" style="display:none">
        <input type="file" id="userProgramArchiveFile" accept=".json" onchange="user_program_read_archive()" style="display:none">
        <button id="xmlInputFileSelect" title="Select and load .xml file to workspace (l)" accesskey="l">Load</button>
        <button title="Copy workspace xml to clipboard (c)"  accesskey="c" onclick="navigator.clipboard.writeText(blk_get_xml())">Copy</button>
        <button title="Cleanup workspace (o)" accesskey="o" onclick="blk_workspace.cleanUp()">Cleanup</button>
        <!-- <button title="Center drawing in workspace" onclick="blk_workspace.scrollCenter()">Center</button> -->
        <button title="Fit drawing to workspace (=)" accesskey="=" onclick="blk_workspace.zoomToFit()">Fit</button>
        <button title="Print" onclick="prettyPrintSyndef()">Print</button>
        <button title="Evaluate workspace program (/)" accesskey="/" onclick="evalJsProgram()">Eval</button>
        <button title="Play workspace program (,)" accesskey="," onclick="playJsProgram()">Play</button>
        <button title="Send reset command (.)" accesskey="." onclick="reset()">Reset</button>
        <button title="Delete all blocks from workspace (k)" accesskey="k" onclick="blk_workspace.clear()">Clear</button>
        <button title="Save document to local storage (s)" accesskey="s" onclick="user_program_save_to()">Save</button>
        <select id="actionsMenu" title="Actions">
          <option value=''>&#x2630;</option>
          <option value='setBlockSize'>Block Size</option>
          <option value='setNumInputs'># Inputs</option>
          <option value='userBackup'>Backup</option>
          <option value='userRestore'>Restore</option>
          <option value='userPurge'>Purge</option>
        </select>
        <select id="blkLayoutMenu" title="System layouts (y)" accesskey="y">
          <option value=''>--Display--</option>
          <option value='%×%'>%×%</option>
          <option value='1366×768'>1366×768</option>
          <option value='1440×900'>1440×900</option>
          <option value='1680×1050'>1680×1050</option>
          <option value='1920×1080'>1920×1080</option>
        </select>
        <button title="Boot" accesskey="b" onclick="ui_boot_scsynth()">⏻ (Boot)</button>
        ⓘ <span id="statusText">&nbsp;</span>
      </div>
    </div>

    <div id="blkCtl">
      <details open>
        <summary>Notes</summary>
        <div id="blkNotes">
          <h2>Block SuperCollider</h2>
          <p><em>blksc3</em> is a visual editor for SuperCollider.</p>
          <p>There is a <em>Guide</em>, the menu is below the workspace.</p>
          <p>If the <em>status area</em> (ⓘ) says <em>Loading...</em> please wait.</p>
        </div>
      </details>
      <div id="uiCtlContainer"></div>
    </div>
    <script async src="lib/jssc3/lib/scsynth-wasm-builds/ext/scsynth.js"></script>
  </body>
</html>

<!--
<button title="Copy current workspace Svg to clipboard" onclick="navigator.clipboard.writeText(blk_get_svg())">Copy Svg</button>
-->
