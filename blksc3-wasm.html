<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Block SuperCollider</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css" />
    <link rel="stylesheet" type="text/css" media="all" href="css/blksc3.css" />
    <link rel="icon" type="image/png" href="https://rohandrape.net/data/png/rd.512.png" />
    <!--
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="https://unpkg.com/commonmark@0.30.0/dist/commonmark.js"></script>
    -->
    <script src="lib/blockly/blockly_compressed.js"></script>
    <script src="lib/blockly/javascript_compressed.js"></script>
    <script src="lib/blockly/msg/js/en.js"></script>
    <script src="lib/blockly/blocks_compressed.js"></script>
    <script src="lib/commonmark.js/dist/commonmark.js"></script>
    <script src="lib/jssc3/lib/osc.js/dist/osc-browser.js"></script>
    <script src="lib/jssc3/js/sc3-array.js"></script>
    <script src="lib/jssc3/js/sc3-dom.js"></script>
    <script src="lib/jssc3/js/sc3-number.js"></script>
    <script src="lib/jssc3/js/sc3-null.js"></script>
    <script src="lib/jssc3/js/sc3-object.js"></script>
    <script src="lib/jssc3/js/sc3-stc.js"></script>
    <script src="lib/jssc3/js/sc3-string.js"></script>
    <script src="lib/jssc3/js/sc3-u8.js"></script>
    <script src="lib/jssc3/js/sc3-ui.js"></script>
    <script src="lib/jssc3/js/sc3-ui-mouse.js"></script>
    <script src="lib/jssc3/js/sc3.js"></script>
    <script src="lib/jssc3/js/sc3-bindings.js"></script>
    <script src="lib/jssc3/js/sc3-operators.js"></script>
    <script src="lib/jssc3/js/sc3-pseudo.js"></script>
    <script src="lib/jssc3/js/sc3-alias.js"></script>
    <script src="lib/jssc3/js/sc3-event.js"></script>
    <script src="lib/jssc3/js/sc3-wasm.js"></script>
    <script src="lib/jssc3/js/sc3-wasm-module.js"></script>
    <script src="js/blksc3-gen.js"></script>
    <script src="js/blksc3-gen-ugen.js"></script>
    <script src="js/blksc3.js"></script>
    <script src="js/blksc3-wasm.js"></script>
    <!-- <script src="js/blksc3-stc.js"></script> -->
    <script>
      blk_pre()
      window.onload = function() { blk_init('.js') };
    </script>
  </head>
  <body>
    <!-- <p>Block SuperCollider</p> -->
    <div id="blocklyContainer"></div>
    <!--
        Access keys:
        Chrome: d is "go to address box" (cannot be draw), e & f are "chrome menu" (cannot be erase or fit)
        Firefox: f,e,v,s,b,t and h are menus (cannot be erase or fit), ␣ (space key) interacts poorly menus (cannot be play)
    -->
    <div id="blkEdit">
      <div id="blkMenu">
        <select id="programMenu" title="Program (p)" accesskey="p"></select>
        <select id="helpMenu" title="Help (h)" accesskey="h"></select>
        <select id="guideMenu" title="Guide (g)" accesskey="g"></select>
        <select id="userMenu" title="User (u)" accesskey="u"><option value=''>--User--</option></select>
      </div>
      <div id="blkCmd">
        <input type="file" id="xmlInputFile" accept=".xml" onchange="blk_read_input_xml()" style="display:none">
        <button id="xmlInputFileSelect" title="Select and load .xml file to workspace (l)" accesskey="l"><u>L</u>oad</button>
        <button title="Copy workspace xml to clipboard (c)"  accesskey="c" onclick="navigator.clipboard.writeText(blk_get_xml())"><u>C</u>opy</button>
        <!--
        <input type="file" id="jsonInputFile" accept=".json" onchange="blk_read_input_json()" style="display:none">
        <button id="jsonInputFileSelect" title="Select local .json file and load into workspace">Load Json</button>
        <button title="Copy workspace Json to clipboard" onclick="navigator.clipboard.writeText(blk_get_json())">Copy Json</button>
        -->
        <button title="Cleanup workspace (o)" accesskey="o" onclick="blk_workspace.cleanUp()">Cleanup</button>
        <button title="Center drawing in workspace" onclick="blk_workspace.scrollCenter()">Center</button>
        <button title="Fit drawing to workspace (=)" accesskey="=" onclick="blk_workspace.zoomToFit()">Fit</button>
        <button title="Draw current workspace as UGen graph (i)" accesskey="i" onclick="blk_send_stc('draw')">Draw</button>
        <button title="Send current workspace stc (,)" accesskey="," onclick="blk_wasm_play()">Play</button>
        <button title="Send reset command (.)" accesskey="." onclick="blk_wasm_reset()">Reset</button>
        <button title="Delete all blocks from workspace (k)" accesskey="k" onclick="blk_workspace.clear()">Clear</button>
        <button title="Save document to local storage (s)" accesskey="s" onclick="user_program_save_to()">Save</button>
        <!--
        <button title="Set websocket address and reinitialise (w)" accesskey="w" onclick="blk_websocket_dialog()"><u>W</u>ebsocket</button>
        -->
      <select id="actionsMenu" title="Actions">
        <option value=''>&#x2630;</option>
        <option value='setBlockSize'>Block Size</option>
        <option value='userBackup'>Backup</option>
        <option value='userRestore'>Restore</option>
      </select>
        <select id="blkLayoutMenu" title="System layouts (y)" accesskey="y">
          <option value=''>--Display--</option>
          <option value='%×%'>%×%</option>
          <option value='1366×768'>1366×768</option>
          <option value='1440×900'>1440×900</option>
          <option value='1680×1050'>1680×1050</option>
          <option value='1920×1080'>1920×1080</option>
        </select>
        <button title="Boot" accesskey="b" onclick="bootScsynth(0, 2)">Boot</button>
        <span id="statusText">------</span>
      </div>
    </div>

    <div id="blkCtl">
      <details open>
        <summary>Notes</summary>
        <div id="blkNotes"></div>
      </details>
      <details id="blkUi">
        <summary>Ui</summary>
        <div id="blkUi">
          <details id="blkCc">
            <summary>Cc</summary>
            <div>
              <input id="cc1" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(1)">
              <input id="cc2" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(2)">
              <input id="cc3" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(3)">
              <input id="cc4" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(4)">
              <input id="cc5" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(5)">
              <input id="cc6" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(6)">
              <input id="cc7" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(7)">
              <input id="cc8" type="range" min="0" max="1" step="0.01" value="0" oninput="blk_cc_send(8)">
            </div>
          </details>
          <details id="blkSwC">
            <summary>Sw:maintained</summary>
            <div>
              <input id="swC1" type="checkbox" oninput="blk_sw_maintained_send(1)">
              <input id="swC2" type="checkbox" oninput="blk_sw_maintained_send(2)">
              <input id="swC3" type="checkbox" oninput="blk_sw_maintained_send(3)">
              <input id="swC4" type="checkbox" oninput="blk_sw_maintained_send(4)">
              <input id="swC5" type="checkbox" oninput="blk_sw_maintained_send(5)">
              <input id="swC6" type="checkbox" oninput="blk_sw_maintained_send(6)">
              <input id="swC7" type="checkbox" oninput="blk_sw_maintained_send(7)">
              <input id="swC8" type="checkbox" oninput="blk_sw_maintained_send(8)">
            </div>
          </details>
          <details id="blkSwB">
            <summary>Sw:momentary</summary>
            <div>
              <button id="swB1" onmousedown="blk_sw_momentary_send(1, 1)" onmouseup="blk_sw_momentary_send(1, 0)"></button>
              <button id="swB2" onmousedown="blk_sw_momentary_send(2, 1)" onmouseup="blk_sw_momentary_send(2, 0)"></button>
              <button id="swB3" onmousedown="blk_sw_momentary_send(3, 1)" onmouseup="blk_sw_momentary_send(3, 0)"></button>
              <button id="swB4" onmousedown="blk_sw_momentary_send(4, 1)" onmouseup="blk_sw_momentary_send(4, 0)"></button>
              <button id="swB5" onmousedown="blk_sw_momentary_send(5, 1)" onmouseup="blk_sw_momentary_send(5, 0)"></button>
              <button id="swB6" onmousedown="blk_sw_momentary_send(6, 1)" onmouseup="blk_sw_momentary_send(6, 0)"></button>
              <button id="swB7" onmousedown="blk_sw_momentary_send(7, 1)" onmouseup="blk_sw_momentary_send(7, 0)"></button>
              <button id="swB8" onmousedown="blk_sw_momentary_send(8, 1)" onmouseup="blk_sw_momentary_send(8, 0)"></button>
            </div>
          </details>
        </div>
      </details>
    </div>
    <script async src="lib/jssc3/lib/scsynth-wasm-builds/core/scsynth.js"></script>
  </body>
</html>

<!--
<button title="Copy current workspace Svg to clipboard" onclick="navigator.clipboard.writeText(blk_get_svg())">Copy Svg</button>
-->
